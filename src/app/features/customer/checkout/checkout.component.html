<div class="checkout-container">
    <div class="checkout-content">
        <div class="checkout-form">
            <h2>Checkout</h2>

            <!-- Shipping Information -->
            <div class="form-section">
                <h3>Shipping Information</h3>
                <div class="form-group">
                    <label for="fullName">Full Name</label>
                    <input type="text" id="fullName" pInputText [(ngModel)]="shippingAddress.fullName" required />
                </div>
                <div class="form-group">
                    <label for="address">Address</label>
                    <input type="text" id="address" pInputText [(ngModel)]="shippingAddress.address" required />
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="city">City</label>
                        <input type="text" id="city" pInputText [(ngModel)]="shippingAddress.city" required />
                    </div>
                    <div class="form-group">
                        <label for="postalCode">Postal Code</label>
                        <input type="text" id="postalCode" pInputText [(ngModel)]="shippingAddress.postalCode" required />
                    </div>
                </div>
                <div class="form-group">
                    <label for="country">Country</label>
                    <input type="text" id="country" pInputText [(ngModel)]="shippingAddress.country" required />
                </div>
            </div>

            <!-- Payment Information -->
            <div class="form-section">
                <h3>Payment Information</h3>
                <div class="form-group">
                    <label for="cardNumber">Card Number</label>
                    <input type="text" id="cardNumber" pInputText [(ngModel)]="paymentInfo.cardNumber" required />
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="expiryDate">Expiry Date (MM/YY)</label>
                        <input type="text" id="expiryDate" pInputText [(ngModel)]="paymentInfo.expiryDate" required />
                    </div>
                    <div class="form-group">
                        <label for="cvv">CVV</label>
                        <input type="text" id="cvv" pInputText [(ngModel)]="paymentInfo.cvv" required />
                    </div>
                </div>
            </div>
        </div>

        <!-- Order Summary -->
        <div class="order-summary">
            <h3>Order Summary</h3>
            <div class="cart-items">
                <div *ngFor="let item of cartItems$ | async" class="cart-item">
                    <img [src]="item.product.artImageUrl" [alt]="item.product.artIntitule" (error)="handleImageError($event)" />
                    <div class="item-details">
                        <h4>{{ item.product.artIntitule }}</h4>
                        <p>Quantity: {{ item.quantity }}</p>
                        <p>Price: {{ item.product.artPrixVente * item.quantity | currency: 'TND' : 'symbol' }}</p>
                    </div>
                </div>
            </div>
            <div class="summary-total">
                <p>
                    Total: <span>{{ cartTotal$ | async | currency: 'TND' : 'symbol' }}</span>
                </p>
            </div>
            <button pButton label="Place Order" (click)="placeOrder()" class="place-order-button"></button>
        </div>
    </div>
</div>
